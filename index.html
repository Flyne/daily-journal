<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Daily Journal</title>
</head>
<body>

<h1>Daily Journal</h1>

<form id="journalForm">
  <label>Situation - What happened:<br />
    <textarea name="situation" required></textarea>
  </label><br /><br />
  
  <label>Thought - What I thought:<br />
    <textarea name="thought" required></textarea>
  </label><br /><br />
  
  <label>Emotion - What I felt:<br />
    <textarea name="emotion" required></textarea>
  </label><br /><br />
  
  <label>Action - What did I do:<br />
    <textarea name="action" required></textarea>
  </label><br /><br />
  
  <label>Emotion Name:<br />
    <input type="text" name="emotionName" required />
  </label><br /><br />
  
  <label>Motivation - What did my emotion motivate me to do?:<br />
    <textarea name="motivation" required></textarea>
  </label><br /><br />
  
  <label>Expression - How was my emotion expressed?:<br />
    <textarea name="expression" required></textarea>
  </label><br /><br />
  
  <label>Message to Others:<br />
    <textarea name="messageToOthers" required></textarea>
  </label><br /><br />
  
  <label>Impact on Others:<br />
    <textarea name="impactOnOthers" required></textarea>
  </label><br /><br />
  
  <label>Message to Self:<br />
    <textarea name="messageToSelf" required></textarea>
  </label><br /><br />
  
  <label>Fact Check:<br />
    <textarea name="factCheck" required></textarea>
  </label><br /><br />
  
  <label>Later Evaluation:<br />
    <textarea name="laterEvaluation" required></textarea>
  </label><br /><br />
  
  <button type="submit">Submit Journal Entry</button>
</form>

<script>
  const form = document.getElementById('journalForm');
  form.addEventListener('submit', e => {
    e.preventDefault();

    const data = {
      timestamp: new Date().toISOString(),
      situation: form.situation.value,
      thought: form.thought.value,
      emotion: form.emotion.value,
      action: form.action.value,
      emotionName: form.emotionName.value,
      motivation: form.motivation.value,
      expression: form.expression.value,
      messageToOthers: form.messageToOthers.value,
      impactOnOthers: form.impactOnOthers.value,
      messageToSelf: form.messageToSelf.value,
      factCheck: form.factCheck.value,
      laterEvaluation: form.laterEvaluation.value
    };

    fetch('https://script.google.com/macros/s/AKfycby-Z1tfHXEHQM8zChMRgQRn97dTw-3eLIO-8b19QsmQzWFYPTOmEhQnl9Ie8wZXNv1g/exec', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(result => {
      if(result.result === 'success'){
        alert('Journal entry saved!');
        form.reset();
      } else {
        alert('Error saving entry.');
      }
    })
    .catch(() => alert('Error connecting to server.'));
  });
</script>

</body>
</html>
